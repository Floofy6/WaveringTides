{"ast":null,"code":"import React,{createContext,useContext,useState,useEffect}from'react';import{SKILL_IDS,ITEMS,ITEM_IDS}from'../constants';import{jsx as _jsx}from\"react/jsx-runtime\";const GameContext=/*#__PURE__*/createContext(undefined);export const useGameContext=()=>{const context=useContext(GameContext);if(context===undefined){throw new Error('useGameContext must be used within a GameProvider');}return context;};export const GameProvider=_ref=>{let{children}=_ref;const[gameState,setGameState]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{// In a real app, you would fetch from your API\nconst fetchGameData=async()=>{try{// Mock API call with simulated delay\nsetTimeout(()=>{// Create mock skills\nconst mockSkills={[SKILL_IDS.WOODCUTTING]:{id:SKILL_IDS.WOODCUTTING,name:'Woodcutting',level:1,xp:0,xpPerAction:5,isActive:false,mastery:{level:1,xp:0,unlocks:{'5':'Faster woodcutting speed','10':'Double logs chance (10%)'}}},[SKILL_IDS.FISHING]:{id:SKILL_IDS.FISHING,name:'Fishing',level:1,xp:0,xpPerAction:7,isActive:false,mastery:{level:1,xp:0,unlocks:{'5':'Better fish quality','10':'Double fish chance (10%)'}}},[SKILL_IDS.MINING]:{id:SKILL_IDS.MINING,name:'Mining',level:1,xp:0,xpPerAction:6,isActive:false,mastery:{level:1,xp:0,unlocks:{}}}};// Convert ITEMS to proper Item type with correct slot type\nconst itemsWithProperType={};Object.entries(ITEMS).forEach(_ref2=>{let[key,item]=_ref2;const convertedItem={...item,type:item.type};// Convert slot type if it exists\nif(item.slot){convertedItem.slot=item.slot;}itemsWithProperType[key]=convertedItem;});// Create mock inventory\nconst mockInventory={[ITEM_IDS.LOGS]:{...itemsWithProperType[ITEM_IDS.LOGS],quantity:5},[ITEM_IDS.RAW_FISH]:{...itemsWithProperType[ITEM_IDS.RAW_FISH],quantity:3}};const mockData={player:{id:'player1',gold:100,lastUpdate:Date.now(),skills:mockSkills,inventory:mockInventory,equipment:{},combat:{isFighting:false}}};setGameState(mockData);setLoading(false);},500);}catch(error){console.error('Error fetching game data:',error);setLoading(false);}};fetchGameData();},[]);const updateGameState=updater=>{setGameState(updater);};return/*#__PURE__*/_jsx(GameContext.Provider,{value:{gameState,loading,updateGameState},children:children});};","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","SKILL_IDS","ITEMS","ITEM_IDS","jsx","_jsx","GameContext","undefined","useGameContext","context","Error","GameProvider","_ref","children","gameState","setGameState","loading","setLoading","fetchGameData","setTimeout","mockSkills","WOODCUTTING","id","name","level","xp","xpPerAction","isActive","mastery","unlocks","FISHING","MINING","itemsWithProperType","Object","entries","forEach","_ref2","key","item","convertedItem","type","slot","mockInventory","LOGS","quantity","RAW_FISH","mockData","player","gold","lastUpdate","Date","now","skills","inventory","equipment","combat","isFighting","error","console","updateGameState","updater","Provider","value"],"sources":["C:/Users/Domin/OneDrive/Desktop/coding/WaveringTides/frontend/src/context/GameContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';\r\nimport { GameState, Item, Skill, Mastery } from '../types';\r\nimport { ENEMIES, SKILL_IDS, ITEMS, ITEM_IDS } from '../constants';\r\n\r\ninterface GameContextProps {\r\n  gameState: GameState | null;\r\n  loading: boolean;\r\n  updateGameState: (updater: (prevState: GameState | null) => GameState | null) => void;\r\n}\r\n\r\nconst GameContext = createContext<GameContextProps | undefined>(undefined);\r\n\r\nexport const useGameContext = () => {\r\n  const context = useContext(GameContext);\r\n  if (context === undefined) {\r\n    throw new Error('useGameContext must be used within a GameProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\ninterface GameProviderProps {\r\n  children: ReactNode;\r\n}\r\n\r\nexport const GameProvider: React.FC<GameProviderProps> = ({ children }) => {\r\n  const [gameState, setGameState] = useState<GameState | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    // In a real app, you would fetch from your API\r\n    const fetchGameData = async () => {\r\n      try {\r\n        // Mock API call with simulated delay\r\n        setTimeout(() => {\r\n          // Create mock skills\r\n          const mockSkills: { [id: string]: Skill } = {\r\n            [SKILL_IDS.WOODCUTTING]: {\r\n              id: SKILL_IDS.WOODCUTTING,\r\n              name: 'Woodcutting',\r\n              level: 1,\r\n              xp: 0,\r\n              xpPerAction: 5,\r\n              isActive: false,\r\n              mastery: {\r\n                level: 1,\r\n                xp: 0,\r\n                unlocks: {\r\n                  '5': 'Faster woodcutting speed',\r\n                  '10': 'Double logs chance (10%)'\r\n                }\r\n              }\r\n            },\r\n            [SKILL_IDS.FISHING]: {\r\n              id: SKILL_IDS.FISHING,\r\n              name: 'Fishing',\r\n              level: 1,\r\n              xp: 0,\r\n              xpPerAction: 7,\r\n              isActive: false,\r\n              mastery: {\r\n                level: 1,\r\n                xp: 0,\r\n                unlocks: {\r\n                  '5': 'Better fish quality',\r\n                  '10': 'Double fish chance (10%)'\r\n                }\r\n              }\r\n            },\r\n            [SKILL_IDS.MINING]: {\r\n              id: SKILL_IDS.MINING,\r\n              name: 'Mining',\r\n              level: 1,\r\n              xp: 0,\r\n              xpPerAction: 6,\r\n              isActive: false,\r\n              mastery: {\r\n                level: 1,\r\n                xp: 0,\r\n                unlocks: {}\r\n              }\r\n            }\r\n          };\r\n\r\n          // Convert ITEMS to proper Item type with correct slot type\r\n          const itemsWithProperType: { [id: string]: Item } = {};\r\n          \r\n          Object.entries(ITEMS).forEach(([key, item]) => {\r\n            const convertedItem: Item = {\r\n              ...item,\r\n              type: item.type as 'resource' | 'equipment'\r\n            };\r\n            \r\n            // Convert slot type if it exists\r\n            if (item.slot) {\r\n              convertedItem.slot = item.slot as 'weapon' | 'armor';\r\n            }\r\n            \r\n            itemsWithProperType[key] = convertedItem;\r\n          });\r\n\r\n          // Create mock inventory\r\n          const mockInventory: { [id: string]: Item } = {\r\n            [ITEM_IDS.LOGS]: { ...itemsWithProperType[ITEM_IDS.LOGS], quantity: 5 },\r\n            [ITEM_IDS.RAW_FISH]: { ...itemsWithProperType[ITEM_IDS.RAW_FISH], quantity: 3 }\r\n          };\r\n\r\n          const mockData: GameState = {\r\n            player: {\r\n              id: 'player1',\r\n              gold: 100,\r\n              lastUpdate: Date.now(),\r\n              skills: mockSkills,\r\n              inventory: mockInventory,\r\n              equipment: {},\r\n              combat: {\r\n                isFighting: false\r\n              }\r\n            }\r\n          };\r\n          \r\n          setGameState(mockData);\r\n          setLoading(false);\r\n        }, 500);\r\n      } catch (error) {\r\n        console.error('Error fetching game data:', error);\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchGameData();\r\n  }, []);\r\n\r\n  const updateGameState = (updater: (prevState: GameState | null) => GameState | null) => {\r\n    setGameState(updater);\r\n  };\r\n\r\n  return (\r\n    <GameContext.Provider value={{ gameState, loading, updateGameState }}>\r\n      {children}\r\n    </GameContext.Provider>\r\n  );\r\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}