{"ast":null,"code":"import React,{useState}from'react';import{useShop}from'../../hooks/useShop';import{ITEMS}from'../../constants';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ShopPanel=()=>{const{gold,buyItem}=useShop();const[selectedQuantity,setSelectedQuantity]=useState(1);const shopItems=Object.keys(ITEMS).map(id=>{const item=ITEMS[id];return{...item,type:item.type==='resource'?'resource':'equipment'};}).filter(item=>item.buyPrice!==undefined);const handleBuyItem=item=>{buyItem(item,selectedQuantity);};return/*#__PURE__*/_jsxs(\"div\",{className:\"shop-panel\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Shop\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"gold-display\",children:[\"Your gold: \",gold]}),/*#__PURE__*/_jsxs(\"div\",{className:\"quantity-selector\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"shop-quantity\",children:\"Quantity: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"shop-quantity\",min:1,max:99,value:selectedQuantity,onChange:e=>setSelectedQuantity(Math.max(1,parseInt(e.target.value)||1))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"shop-items\",children:shopItems.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"empty-shop\",children:\"No items available.\"}):shopItems.map(item=>{const totalCost=(item.buyPrice||0)*selectedQuantity;const canAfford=gold>=totalCost;return/*#__PURE__*/_jsxs(\"div\",{className:\"shop-item\",children:[/*#__PURE__*/_jsx(\"h4\",{children:item.name}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Price: \",item.buyPrice,\" gold each\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Total: \",totalCost,\" gold\"]}),item.type==='equipment'&&item.stats&&/*#__PURE__*/_jsxs(\"div\",{className:\"item-stats\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Type: \",item.slot]}),item.stats.attackBonus!==undefined&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Attack: +\",item.stats.attackBonus]}),item.stats.strengthBonus!==undefined&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Strength: +\",item.stats.strengthBonus]}),item.stats.defenseBonus!==undefined&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Defense: +\",item.stats.defenseBonus]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"buy-btn\",onClick:()=>handleBuyItem(item),disabled:!canAfford,children:canAfford?`Buy ${selectedQuantity}`:'Not enough gold'})]},item.id);})})]});};export default ShopPanel;","map":{"version":3,"names":["React","useState","useShop","ITEMS","jsx","_jsx","jsxs","_jsxs","ShopPanel","gold","buyItem","selectedQuantity","setSelectedQuantity","shopItems","Object","keys","map","id","item","type","filter","buyPrice","undefined","handleBuyItem","className","children","htmlFor","min","max","value","onChange","e","Math","parseInt","target","length","totalCost","canAfford","name","stats","slot","attackBonus","strengthBonus","defenseBonus","onClick","disabled"],"sources":["C:/Users/Domin/OneDrive/Desktop/coding/WaveringTides/frontend/src/features/shop/ShopPanel.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useShop } from '../../hooks/useShop';\r\nimport { ITEMS } from '../../constants';\r\nimport { Item } from '../../types';\r\n\r\nconst ShopPanel: React.FC = () => {\r\n  const { gold, buyItem } = useShop();\r\n  const [selectedQuantity, setSelectedQuantity] = useState<number>(1);\r\n  \r\n  const shopItems = Object.keys(ITEMS)\r\n    .map(id => {\r\n      const item = ITEMS[id];\r\n      return {\r\n        ...item,\r\n        type: item.type === 'resource' ? 'resource' : 'equipment'\r\n      } as Item;\r\n    })\r\n    .filter(item => item.buyPrice !== undefined);\r\n  \r\n  const handleBuyItem = (item: Item) => {\r\n    buyItem(item, selectedQuantity);\r\n  };\r\n  \r\n  return (\r\n    <div className=\"shop-panel\">\r\n      <h2>Shop</h2>\r\n      <p className=\"gold-display\">Your gold: {gold}</p>\r\n      \r\n      <div className=\"quantity-selector\">\r\n        <label htmlFor=\"shop-quantity\">Quantity: </label>\r\n        <input\r\n          type=\"number\"\r\n          id=\"shop-quantity\"\r\n          min={1}\r\n          max={99}\r\n          value={selectedQuantity}\r\n          onChange={(e) => setSelectedQuantity(Math.max(1, parseInt(e.target.value) || 1))}\r\n        />\r\n      </div>\r\n      \r\n      <div className=\"shop-items\">\r\n        {shopItems.length === 0 ? (\r\n          <p className=\"empty-shop\">No items available.</p>\r\n        ) : (\r\n          shopItems.map(item => {\r\n            const totalCost = (item.buyPrice || 0) * selectedQuantity;\r\n            const canAfford = gold >= totalCost;\r\n            \r\n            return (\r\n              <div key={item.id} className=\"shop-item\">\r\n                <h4>{item.name}</h4>\r\n                <p>Price: {item.buyPrice} gold each</p>\r\n                <p>Total: {totalCost} gold</p>\r\n                {item.type === 'equipment' && item.stats && (\r\n                  <div className=\"item-stats\">\r\n                    <p>Type: {item.slot}</p>\r\n                    {item.stats.attackBonus !== undefined && <p>Attack: +{item.stats.attackBonus}</p>}\r\n                    {item.stats.strengthBonus !== undefined && <p>Strength: +{item.stats.strengthBonus}</p>}\r\n                    {item.stats.defenseBonus !== undefined && <p>Defense: +{item.stats.defenseBonus}</p>}\r\n                  </div>\r\n                )}\r\n                <button \r\n                  className=\"buy-btn\"\r\n                  onClick={() => handleBuyItem(item)}\r\n                  disabled={!canAfford}\r\n                >\r\n                  {canAfford ? `Buy ${selectedQuantity}` : 'Not enough gold'}\r\n                </button>\r\n              </div>\r\n            );\r\n          })\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShopPanel; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}