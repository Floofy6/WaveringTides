{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useGameContext}from'../context/GameContext';import{useTheme}from'../context/ThemeContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";/**\n * MainLayout component - Serves as the main container for the game interface\n * Optimized exclusively for desktop viewing\n */const MainLayout=_ref=>{let{children}=_ref;const{loading,gameState,error}=useGameContext();const{theme,toggleTheme}=useTheme();const[forceShowContent,setForceShowContent]=useState(false);// Add a fallback that shows the content after 5 seconds\n// in case the loading state gets stuck\nuseEffect(()=>{const timer=setTimeout(()=>{setForceShowContent(true);},5000);return()=>clearTimeout(timer);},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen flex flex-col bg-bg-color\",\"data-theme\":theme,children:[/*#__PURE__*/_jsxs(\"header\",{className:\"bg-header-bg text-header-text px-5 py-3 flex justify-between items-center shadow-md\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold\",children:\"Wavering Tides\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-5\",children:[/*#__PURE__*/_jsx(PlayerStatusBar,{}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-transparent hover:bg-white/10 rounded p-1.5 transition-colors\",onClick:toggleTheme,\"aria-label\":`Switch to ${theme==='light'?'dark':'light'} mode`,children:theme==='light'?'üåô':'‚òÄÔ∏è'})]})]}),/*#__PURE__*/_jsx(\"main\",{className:\"flex-1 p-5 max-w-[1400px] mx-auto w-full\",children:loading&&!forceShowContent?/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-[calc(100vh-150px)]\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"inline-block animate-spin h-10 w-10 border-4 border-primary border-t-transparent rounded-full mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg text-text\",children:\"Loading your adventure...\"})]})}):/*#__PURE__*/_jsxs(_Fragment,{children:[error&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-danger/10 border border-danger text-danger p-4 rounded-lg mb-5 flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"p\",{children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.reload(),className:\"px-3 py-1.5 bg-danger text-white rounded hover:bg-danger/90 transition-colors\",children:\"Retry\"})]}),children]})}),/*#__PURE__*/_jsx(\"footer\",{className:\"bg-header-bg text-header-text/70 py-2 px-5 text-center text-sm\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\xA9 2023 Wavering Tides - An Idle Adventure\"})})]});};/**\n * PlayerStatusBar component - Shows player's gold and other key stats\n */const PlayerStatusBar=()=>{var _gameState$player,_gameState$player$gol;const{gameState}=useGameContext();return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gold-color text-lg\",children:\"\\uD83D\\uDCB0\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gold-color font-medium\",children:(gameState===null||gameState===void 0?void 0:(_gameState$player=gameState.player)===null||_gameState$player===void 0?void 0:(_gameState$player$gol=_gameState$player.gold)===null||_gameState$player$gol===void 0?void 0:_gameState$player$gol.toLocaleString())||0}),/*#__PURE__*/_jsx(\"span\",{className:\"text-header-text/80\",children:\"gold\"})]});};export default MainLayout;","map":{"version":3,"names":["React","useEffect","useState","useGameContext","useTheme","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MainLayout","_ref","children","loading","gameState","error","theme","toggleTheme","forceShowContent","setForceShowContent","timer","setTimeout","clearTimeout","className","PlayerStatusBar","onClick","window","location","reload","_gameState$player","_gameState$player$gol","player","gold","toLocaleString"],"sources":["C:/Users/Domin/Desktop/coding/WaveringTides-master/frontend/src/layouts/MainLayout.tsx"],"sourcesContent":["import React, { ReactNode, useEffect, useState } from 'react';\nimport { useGameContext } from '../context/GameContext';\nimport { useTheme } from '../context/ThemeContext';\n\ninterface MainLayoutProps {\n  children: ReactNode;\n}\n\n/**\n * MainLayout component - Serves as the main container for the game interface\n * Optimized exclusively for desktop viewing\n */\nconst MainLayout: React.FC<MainLayoutProps> = ({ children }) => {\n  const { loading, gameState, error } = useGameContext();\n  const { theme, toggleTheme } = useTheme();\n  const [forceShowContent, setForceShowContent] = useState(false);\n  \n  // Add a fallback that shows the content after 5 seconds\n  // in case the loading state gets stuck\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setForceShowContent(true);\n    }, 5000);\n    \n    return () => clearTimeout(timer);\n  }, []);\n\n  return (\n    <div className=\"min-h-screen flex flex-col bg-bg-color\" data-theme={theme}>\n      <header className=\"bg-header-bg text-header-text px-5 py-3 flex justify-between items-center shadow-md\">\n        <h1 className=\"text-xl font-bold\">Wavering Tides</h1>\n        <div className=\"flex items-center space-x-5\">\n          <PlayerStatusBar />\n          <button \n            className=\"bg-transparent hover:bg-white/10 rounded p-1.5 transition-colors\"\n            onClick={toggleTheme} \n            aria-label={`Switch to ${theme === 'light' ? 'dark' : 'light'} mode`}\n          >\n            {theme === 'light' ? 'üåô' : '‚òÄÔ∏è'}\n          </button>\n        </div>\n      </header>\n      \n      <main className=\"flex-1 p-5 max-w-[1400px] mx-auto w-full\">\n        {loading && !forceShowContent ? (\n          <div className=\"flex items-center justify-center h-[calc(100vh-150px)]\">\n            <div className=\"text-center\">\n              <div className=\"inline-block animate-spin h-10 w-10 border-4 border-primary border-t-transparent rounded-full mb-4\"></div>\n              <p className=\"text-lg text-text\">Loading your adventure...</p>\n            </div>\n          </div>\n        ) : (\n          <>\n            {error && (\n              <div className=\"bg-danger/10 border border-danger text-danger p-4 rounded-lg mb-5 flex justify-between items-center\">\n                <p>{error}</p>\n                <button \n                  onClick={() => window.location.reload()} \n                  className=\"px-3 py-1.5 bg-danger text-white rounded hover:bg-danger/90 transition-colors\"\n                >\n                  Retry\n                </button>\n              </div>\n            )}\n            {children}\n          </>\n        )}\n      </main>\n      \n      <footer className=\"bg-header-bg text-header-text/70 py-2 px-5 text-center text-sm\">\n        <p>¬© 2023 Wavering Tides - An Idle Adventure</p>\n      </footer>\n    </div>\n  );\n};\n\n/**\n * PlayerStatusBar component - Shows player's gold and other key stats\n */\nconst PlayerStatusBar: React.FC = () => {\n  const { gameState } = useGameContext();\n  \n  return (\n    <div className=\"flex items-center space-x-2\">\n      <span className=\"text-gold-color text-lg\">üí∞</span>\n      <span className=\"text-gold-color font-medium\">{gameState?.player?.gold?.toLocaleString() || 0}</span>\n      <span className=\"text-header-text/80\">gold</span>\n    </div>\n  );\n};\n\nexport default MainLayout; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}